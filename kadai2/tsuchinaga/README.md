# 課題2 tsuchinaga

## 課題
スライドより転載

* io.Readerとio.Writerについて調べてみよう
    * 標準パッケージでどのように使われているか
    * io.Readerとio.Writerがあることで  
      どういう利点があるのか具体例を挙げて考えてみる
* 1回目の課題のテストを作ってみて下さい
    * テストのしやすさを考えてリファクタリングしてみる
    * テストのカバレッジを取ってみる
    * テーブル駆動テストを行う
    * テストヘルパーを作ってみる


### io.Readerとio.Writerについて調べてみよう

`io.Reader` と `io.Writer` を実装している代表的なのはやはり `os.File` だと思う。

`os.File` には `os.Stdin` 、 `os.Stdout` 、 `os.Stderr` がある。  
これらはそれぞれ、標準入力、標準出力、標準エラーにあたり、誰もが入出力先にしたことがあると思う。

例えば、「出力先を標準出力からログファイルにかえたいなー」というときに、
`io.Writer` がなければ新たに出力用の処理を用意して上げる必要があったり、
標準ライブラリが `io.Writer` を出力先に指定していなければ、標準ライブラリと同じことをするのに自前で用意する必要があったりする。  
さらに、「標準出力とログファイルの両方に出したいなー」みたいなときに、それぞれを同じように扱えるようにしていないと処理を作ることも難しい。

読み込みの代表例として、 `bufio.Scanner` をあげる。

競技プログラミングで大きな入力を受け取るときや、サイズの大きいファイルを読み込むときにお世話になる。  
※ 他にも1単語ずつじゃなくて、1行ずつ読むときとかにも重宝する

この `Scanner` を生成する関数である `NewScanner` は下記のようになっている。
```go
// NewScanner returns a new Scanner to read from r.
// The split function defaults to ScanLines.
func NewScanner(r io.Reader) *Scanner {
	return &Scanner{
		r:            r,
		split:        ScanLines,
		maxTokenSize: MaxScanTokenSize,
	}
}
```
引数が `io.Reader` となっている。  
これは標準入力だろうが、ファイルだろうが、HTTPリクエストのBodyだろうが、なんでもかんでも同じように扱える。

同じような処理をいっぱい作らなくていい以外に、モックを作りやすいというメリットもある。(interfaceのメリットかも)

テストコードを書いていると、ここなんか適当なもので置き換えたいなーというのは頻繁にある。  
そんな時に構造体に依存していたりすると置き換えることができず、密結合が起きてしまい、テストしづらくなる。  
そこをinterfaceに依存するようにしていると、置き換えることが容易になる。


### 1回目の課題のテストを作ってみて下さい
